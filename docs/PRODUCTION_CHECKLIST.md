# 本番環境リリース前チェックリスト

## 🚀 本番環境への準備 TODO

### 必須変更事項

#### 1. LINE User ID のハードコード削除
- [ ] `src/hooks/useCounselingData.ts` の固定User ID `'U7fd12476d6263912e0d9c99fc3a6bef9'` を削除
- [ ] 実際のLIFF認証のみを使用するように変更
- [ ] テスト用のフォールバック値を削除

#### 2. 環境変数の本番用設定  
- [ ] `.env.local` を `.env.production` にコピー
- [ ] 本番用のFirebase設定に変更
- [ ] 本番用のLINE LIFF設定に変更
- [ ] 本番用のGoogle Gemini API キー設定
- [ ] 本番用のNGROK URLを実際のドメインに変更

#### 3. API エンドポイントの確認
- [ ] `/api/counseling/status` の動作確認
- [ ] `/api/counseling/analyze` の動作確認  
- [ ] `/api/webhook` の動作確認
- [ ] Firestore接続の確認

#### 4. データベース設定
- [ ] 本番用Firestoreデータベースの準備
- [ ] セキュリティルールの設定
- [ ] インデックスの作成

#### 5. セキュリティチェック
- [ ] API キーの適切な保護
- [ ] 環境変数の暗号化
- [ ] CORS設定の確認
- [ ] SSL証明書の確認

#### 6. パフォーマンス最適化
- [ ] 不要なconsole.logの削除
- [ ] デバッグ用のemoji（🔥）の削除  
- [ ] バンドルサイズの最適化
- [ ] 画像の最適化

#### 7. テスト実施
- [ ] 全機能のエンドツーエンドテスト
- [ ] 異なるLINEユーザーでの動作確認
- [ ] カウンセリングフローの完全テスト
- [ ] ダッシュボード表示の確認

#### 8. ドキュメント更新
- [ ] README.mdの更新
- [ ] API仕様書の作成
- [ ] デプロイ手順書の作成

## 📝 追加検討事項

### TODOリスト機能の実装
- [ ] 健康関連TODOの保存・管理機能
- [ ] ダッシュボードへの統合
- [ ] Firestoreでの永続化

### その他の改善案
- [ ] エラーハンドリングの強化
- [ ] ローディング状態の改善  
- [ ] オフライン対応
- [ ] プッシュ通知機能

---

## 現在の開発環境設定

### テスト用固定値
- **LINE User ID**: `U7fd12476d6263912e0d9c99fc3a6bef9`
- **App URL**: `https://kotakun-health.ngrok.io`
- **環境**: Development

### 現在の機能状況
- ✅ カウンセリング機能
- ✅ ダッシュボード表示  
- ✅ マイページ機能
- ✅ PFC・カロリー表示
- ✅ AIアドバイス表示

最終更新: 2025-09-26